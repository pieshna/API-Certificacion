{"version":3,"sources":["webpack:///./src/views/usuarios/NuevoUsuario.vue","webpack:///./src/views/usuarios/NuevoUsuario.vue?2408","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/usuarios/NuevoUsuario.vue?e39b"],"names":["class","src","type","enviar","producto","enctype","hotImage","urlImagen","placeholder","name","username","onFileChange","accept","email","password","to","data","baseURL","imagen","rol","methods","dataForm","FormData","append","console","log","a","post","headers","token","then","response","filename","subirTodo","err","repuestos","$router","push","catch","error","res","event","this","target","files","URL","createObjectURL","computed","render","__scopeId","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match"],"mappings":"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","file":"js/chunk-177a4e12.7102ac3e.js","sourcesContent":["<template>\r\n  <div class=\"body\">\r\n      <br>\r\n    <h1>Nuevo Usuario</h1>\r\n    <hr>\r\n    <br>\r\n    <form @submit.prevent=\"enviar(producto)\" enctype=\"multipart/form-data\">\r\n      <div class=\"row justify-content-center\">\r\n        <img :src=\"hotImage.urlImagen\" v-if=\"hotImage.urlImagen != null\" />\r\n        <img\r\n          src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/d/da/Imagen_no_disponible.svg/1200px-Imagen_no_disponible.svg.png\"\r\n          v-if=\"hotImage.urlImagen == null\"\r\n        />\r\n        <br>\r\n      </div>\r\n      <div class=\"container cuerpo\">\r\n      <br/>\r\n      <br/>\r\n      <br/>\r\n        <div class=\"row\">\r\n          <div class=\"form-group col-md-12\">\r\n            <label>Nombre</label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              placeholder=\"Ingrese su nombre\"\r\n              v-model=\"producto.name\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"form-group col-md-6\">\r\n            <label>Username</label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              placeholder=\"Ingrese su username\"\r\n              v-model=\"producto.username\"\r\n            />\r\n          </div>\r\n          <div class=\"form-group col-md-6\">\r\n            <label>Imagen</label>\r\n            <br />\r\n            <input\r\n              type=\"file\"\r\n              name=\"img\"\r\n              @change=\"onFileChange\"\r\n              accept=\"image/*\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"form-group col-md-6\">\r\n            <label>Correo</label>\r\n            <input\r\n              type=\"email\"\r\n              class=\"form-control\"\r\n              placeholder=\"Ingrese su correo\"\r\n              v-model=\"producto.email\"\r\n            />\r\n          </div>\r\n          <div class=\"form-group col-md-6\">\r\n            <label>Contraseña</label>\r\n            <input\r\n              type=\"password\"\r\n              class=\"form-control\"\r\n              placeholder=\"Ingrese su Contraseña\"\r\n              v-model=\"producto.password\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <br />\r\n        <div class=\"row justify-content-between\">\r\n          <div class=\"form-group col-md-2\">\r\n            <router-link to=\"/usuario\">\r\n            <button class=\"btn btn-block btn-danger\">Cancelar</button></router-link>\r\n          </div>\r\n          <div class=\"form-group col-md-2 derecha\">\r\n            <button class=\"btn btn-block btn-success\" type=\"submit\">\r\n              Agregar\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport axios from \"axios\";\r\nexport default {\r\n  name: \"NuevoUsuario\",\r\n  data() {\r\n    return {\r\n      baseURL: 'https://backend-pieshna.herokuapp.com/api',\r\n      producto: {\r\n        name: \"\",\r\n        username: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        imagen: \"\",\r\n        rol:\"admin\"\r\n      },\r\n      hotImage: {\r\n        urlImagen: null,\r\n        imagen: null,\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    async enviar(producto) {\r\n      try {\r\n        let dataForm = new FormData();\r\n        dataForm.append(\"img\", this.hotImage.imagen);\r\n        console.log(dataForm);\r\n        axios\r\n          .post(`${this.baseURL}/imagen`, dataForm, {\r\n            headers: {\r\n              \"auth-token\": this.token,\r\n            },\r\n          })\r\n          .then((response) => {\r\n            this.producto.imagen = `/storage/img/${response.data.filename}`;\r\n            this.subirTodo(producto);\r\n          });\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n    async subirTodo(producto) {\r\n      try {\r\n        const res = await axios\r\n          .post(`${this.baseURL}/user/register`, producto, {\r\n            headers: {\r\n              \"auth-token\": this.token,\r\n            },\r\n          })\r\n          .then((response) => {\r\n            this.repuestos = response.data;\r\n            console.log(response.data);\r\n            this.$router.push(\"/usuarios\");\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n        console.log(res);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    onFileChange(event) {\r\n      this.hotImage.imagen = event.target.files[0];\r\n      //this.producto.imagen=`${fileData.name}`;\r\n      this.hotImage.urlImagen = URL.createObjectURL(this.hotImage.imagen);\r\n      console.log(this.hotImage.imagen);\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState([\"token\"]),\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nimg {\r\n  border: solid 1px;\r\n  max-height: 15rem;\r\n  max-width: 15rem;\r\n  border-radius: 1rem;\r\n  position: relative;\r\n  z-index: 2;\r\n}\r\n.cuerpo{\r\n    z-index: 1;\r\n    margin-top: -3rem;\r\n    border: solid 1px;\r\n    border-radius: 1rem;\r\n  box-shadow: 0 0 1rem 0 rgba(0, 0, 0, .2); \r\n  border-radius: 5px;\r\n  background-color: rgba(255, 255, 255, .15);\r\n  \r\n  backdrop-filter: blur(5px);\r\n}\r\n.col-md-6,.col-md-4{\r\n    margin-bottom: 1rem;\r\n}\r\n.col-md-2{\r\n    max-width: 5rem;\r\n    margin-bottom: 1rem;\r\n    padding: 0rem;\r\n    margin-left: 1rem;\r\n}\r\n.derecha{\r\n    margin-right: 2rem;\r\n}\r\n.justify-content-center{\r\n  max-width: 100%;\r\n}\r\n</style>\r\n","import { render } from \"./NuevoUsuario.vue?vue&type=template&id=69653189&scoped=true\"\nimport script from \"./NuevoUsuario.vue?vue&type=script&lang=js\"\nexport * from \"./NuevoUsuario.vue?vue&type=script&lang=js\"\n\nimport \"./NuevoUsuario.vue?vue&type=style&index=0&id=69653189&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-69653189\"\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./NuevoUsuario.vue?vue&type=style&index=0&id=69653189&scoped=true&lang=css\""],"sourceRoot":""}
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f828e9d0"],{1256:function(e,t,o){},2532:function(e,t,o){"use strict";var r=o("23e7"),n=o("5a34"),c=o("1d80"),a=o("ab13");r({target:"String",proto:!0,forced:!a("includes")},{includes:function(e){return!!~String(c(this)).indexOf(n(e),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(e,t,o){"use strict";var r=o("6eeb"),n=o("825a"),c=o("d039"),a=o("ad6d"),u="toString",i=RegExp.prototype,d=i[u],l=c((function(){return"/a/b"!=d.call({source:"a",flags:"b"})})),s=d.name!=u;(l||s)&&r(RegExp.prototype,u,(function(){var e=n(this),t=String(e.source),o=e.flags,r=String(void 0===o&&e instanceof RegExp&&!("flags"in i)?a.call(e):o);return"/"+t+"/"+r}),{unsafe:!0})},"44e7":function(e,t,o){var r=o("861d"),n=o("c6b6"),c=o("b622"),a=c("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==n(e))}},"5a34":function(e,t,o){var r=o("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},"99af":function(e,t,o){"use strict";var r=o("23e7"),n=o("d039"),c=o("e8b5"),a=o("861d"),u=o("7b0b"),i=o("50c4"),d=o("8418"),l=o("65f0"),s=o("1dde"),p=o("b622"),b=o("2d00"),m=p("isConcatSpreadable"),g=9007199254740991,f="Maximum allowed index exceeded",v=b>=51||!n((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),j=s("concat"),O=function(e){if(!a(e))return!1;var t=e[m];return void 0!==t?!!t:c(e)},h=!v||!j;r({target:"Array",proto:!0,forced:h},{concat:function(e){var t,o,r,n,c,a=u(this),s=l(a,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(c=-1===t?a:arguments[t],O(c)){if(n=i(c.length),p+n>g)throw TypeError(f);for(o=0;o<n;o++,p++)o in c&&d(s,p,c[o])}else{if(p>=g)throw TypeError(f);d(s,p++,c)}return s.length=p,s}})},"9d2c":function(e,t,o){"use strict";o("1256")},ab13:function(e,t,o){var r=o("b622"),n=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(o){try{return t[n]=!1,"/./"[e](t)}catch(r){}}return!1}},ad6d:function(e,t,o){"use strict";var r=o("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},b0c0:function(e,t,o){var r=o("83ab"),n=o("9bf2").f,c=Function.prototype,a=c.toString,u=/^\s*function ([^ (]*)/,i="name";r&&!(i in c)&&n(c,i,{configurable:!0,get:function(){try{return a.call(this).match(u)[1]}catch(e){return""}}})},caad:function(e,t,o){"use strict";var r=o("23e7"),n=o("4d64").includes,c=o("44d2");r({target:"Array",proto:!0},{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),c("includes")},e0a3:function(e,t,o){"use strict";o.r(t);o("b0c0");var r=o("7a23"),n=Object(r["G"])("data-v-5ac41680");Object(r["s"])("data-v-5ac41680");var c={class:"body"},a=Object(r["g"])("br",null,null,-1),u=Object(r["g"])("h1",null,"Comprar Producto",-1),i=Object(r["g"])("hr",null,null,-1),d=Object(r["g"])("br",null,null,-1),l={class:"row justify-content-center"},s=Object(r["g"])("br",null,null,-1),p={class:"container cuerpo"},b=Object(r["g"])("br",null,null,-1),m=Object(r["g"])("br",null,null,-1),g=Object(r["g"])("br",null,null,-1),f={class:"row"},v={class:"form-group col-md-6"},j=Object(r["g"])("label",null,"Producto",-1),O=Object(r["g"])("option",{disabled:"",selected:""},"Seleccione un producto",-1),h={class:"form-group col-md-3"},P=Object(r["g"])("label",null,"Cantidad actual",-1),y={class:"form-group col-md-3"},w=Object(r["g"])("label",null,"Precio de Compra",-1),C={class:"row"},k={class:"form-group col-md-6"},x=Object(r["g"])("label",null,"Descripcion",-1),_={class:"form-group col-md-3"},R=Object(r["g"])("label",null,"Cantidad a comprar",-1),E={key:0,class:"form-group col-md-3"},U=Object(r["g"])("label",null,"Nueva cantidad",-1),S={class:"row"},V={class:"form-group col-md-6"},I=Object(r["g"])("label",null,"Proveedor",-1),A=Object(r["g"])("option",{disabled:"",selected:""},"Seleccione un Proveedor",-1),T=Object(r["g"])("br",null,null,-1),B={class:"row justify-content-between"},L={class:"form-group col-md-2"},z=Object(r["g"])("button",{class:"btn btn-block btn-danger"}," Cancelar ",-1),F=Object(r["g"])("div",{class:"form-group col-md-2 derecha"},[Object(r["g"])("button",{class:"btn btn-block btn-success",type:"submit"}," Agregar ")],-1);Object(r["q"])();var J=n((function(e,t,o,J,q,D){var G=Object(r["w"])("router-link");return Object(r["p"])(),Object(r["d"])("div",c,[a,u,i,d,Object(r["g"])("form",{onSubmit:t[11]||(t[11]=Object(r["F"])((function(e){return D.enviar()}),["prevent"])),enctype:"multipart/form-data"},[Object(r["g"])("div",l,[null!=q.tempProducto.imagen?(Object(r["p"])(),Object(r["d"])("img",{key:0,src:q.tempProducto.imagen},null,8,["src"])):Object(r["e"])("",!0),s]),Object(r["g"])("div",p,[b,m,g,Object(r["g"])("div",f,[Object(r["g"])("div",v,[j,Object(r["E"])(Object(r["g"])("select",{class:"form-select","onUpdate:modelValue":t[1]||(t[1]=function(e){return q.producto._id=e}),onChange:t[2]||(t[2]=function(){return D.actualizador&&D.actualizador.apply(D,arguments)})},[O,(Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["v"])(q.producto,(function(e){return Object(r["p"])(),Object(r["d"])("option",{value:e._id,key:e._id},Object(r["y"])(e.name)+" - "+Object(r["y"])(e.marca),9,["value"])})),128))],544),[[r["A"],q.producto._id]])]),Object(r["g"])("div",h,[P,Object(r["E"])(Object(r["g"])("input",{type:"text",class:"form-control",placeholder:"Ingrese la marca del producto","onUpdate:modelValue":t[3]||(t[3]=function(e){return q.tempProducto.cantidad=e}),disabled:""},null,512),[[r["B"],q.tempProducto.cantidad]])]),Object(r["g"])("div",y,[w,Object(r["E"])(Object(r["g"])("input",{type:"text",class:"form-control",placeholder:"Ingrese el precio de compra","onUpdate:modelValue":t[4]||(t[4]=function(e){return q.tempProducto.precioCompra=e})},null,512),[[r["B"],q.tempProducto.precioCompra]])])]),Object(r["g"])("div",C,[Object(r["g"])("div",k,[x,Object(r["E"])(Object(r["g"])("textarea",{class:"form-control","onUpdate:modelValue":t[5]||(t[5]=function(e){return q.tempProducto.descripcion=e}),rows:"3",disabled:""},null,512),[[r["B"],q.tempProducto.descripcion]])]),Object(r["g"])("div",_,[R,Object(r["E"])(Object(r["g"])("input",{type:"number",class:"form-control",placeholder:"Cantidad de productos a ingresar","onUpdate:modelValue":t[6]||(t[6]=function(e){return q.tempProducto.tempCantidad=e}),onChange:t[7]||(t[7]=function(){return D.calcular&&D.calcular.apply(D,arguments)}),min:"1"},null,544),[[r["B"],q.tempProducto.tempCantidad]])]),0!=q.tempProducto.tempCantidad?(Object(r["p"])(),Object(r["d"])("div",E,[U,Object(r["E"])(Object(r["g"])("input",{type:"text",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=function(e){return q.tempProducto.newCantidad=e}),disabled:""},null,512),[[r["B"],q.tempProducto.newCantidad]])])):Object(r["e"])("",!0)]),Object(r["g"])("div",S,[Object(r["g"])("div",V,[I,Object(r["E"])(Object(r["g"])("select",{class:"form-select","onUpdate:modelValue":t[9]||(t[9]=function(e){return q.proveedor._id=e}),onChange:t[10]||(t[10]=function(){return D.ponerProveedor&&D.ponerProveedor.apply(D,arguments)})},[A,(Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["v"])(q.proveedor,(function(e){return Object(r["p"])(),Object(r["d"])("option",{value:e._id,key:e._id},Object(r["y"])(e.nombre)+" - "+Object(r["y"])(e.empresa),9,["value"])})),128))],544),[[r["A"],q.proveedor._id]])])]),T,Object(r["g"])("div",B,[Object(r["g"])("div",L,[Object(r["g"])(G,{to:"/"},{default:n((function(){return[z]})),_:1})]),F])])],32)])})),q=o("5530"),D=o("1da1"),G=(o("d3b7"),o("25f0"),o("99af"),o("4de4"),o("caad"),o("2532"),o("96cf"),o("5502")),M=o("bc3a"),N=o.n(M),$={name:"Compras",data:function(){return{baseURL:"https://backend-pieshna.herokuapp.com/api",producto:{_id:"",name:"",marca:"",descripcion:"",precioCompra:"",precioVenta:"",cantidad:"",imagen:""},tempProducto:{_id:"",name:"",marca:"",descripcion:"",precioCompra:"",precioVenta:"",cantidad:"",imagen:"",tempCantidad:"",newCantidad:"",proveedor:""},proveedor:{},hotImage:{urlImagen:null,imagen:null}}},created:function(){this.recibir()},methods:{recibir:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.a.get("".concat(e.baseURL,"/product"),{headers:{"auth-token":e.token}}).then((function(t){e.producto=t.data})).catch((function(e){console.log(e)}));case 3:return t.next=5,N.a.get("".concat(e.baseURL,"/proveedor"),{headers:{"auth-token":e.token}}).then((function(t){e.proveedor=t.data})).catch((function(e){console.log(e)}));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},enviar:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){var o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,o={name:e.tempProducto.name,marca:e.tempProducto.marca,descripcion:e.tempProducto.descripcion,precioCompra:e.tempProducto.precioCompra,precioVenta:e.tempProducto.precioVenta,cantidad:e.tempProducto.newCantidad.toString(),imagen:e.tempProducto.imagen},console.log(o),t.next=5,N.a.put("".concat(e.baseURL,"/product/").concat(e.tempProducto._id),o,{headers:{"auth-token":e.token}}).then((function(t){console.log(t.data),e.generarCompra(),e.$router.push("/")})).catch((function(e){console.log(e)}));case 5:r=t.sent,console.log(r),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},generarCompra:function(){var e=this;return Object(D["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.a.post("".concat(e.baseURL,"/compra/"),e.tempProducto,{headers:{"auth-token":e.token}}).catch((function(e){console.log(e)}));case 3:o=t.sent,console.log(o),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},actualizador:function(){var e=this;setTimeout((function(){var t=e.producto.filter((function(t){return t._id.includes(e.producto._id)}));e.tempProducto=t[0]}),300)},ponerProveedor:function(){var e=this;setTimeout((function(){var t=e.proveedor.filter((function(t){return t._id.includes(e.proveedor._id)}));e.tempProducto.proveedor=t[0]._id,console.log("proveedor actualizado",e.tempProducto.proveedor)}),300)},calcular:function(){this.tempProducto.newCantidad=parseInt(this.tempProducto.cantidad)+parseInt(this.tempProducto.tempCantidad)}},computed:Object(q["a"])({},Object(G["c"])(["token"]))};o("9d2c");$.render=J,$.__scopeId="data-v-5ac41680";t["default"]=$}}]);
//# sourceMappingURL=chunk-f828e9d0.7791d9d2.js.map
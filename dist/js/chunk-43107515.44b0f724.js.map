{"version":3,"sources":["webpack:///./src/views/productos/NuevoProducto.vue","webpack:///./src/views/productos/NuevoProducto.vue?5ef6","webpack:///./src/views/productos/NuevoProducto.vue?6b0c"],"names":["class","src","type","enviar","producto","enctype","hotImage","urlImagen","placeholder","nombre","apellido","correo","name","onFileChange","accept","empresa","contacto","to","data","baseURL","marca","descripcion","precioCompra","precioVenta","cantidad","imagen","methods","dataForm","FormData","append","console","log","a","post","headers","token","then","response","filename","subirTodo","err","repuestos","$router","push","catch","error","res","event","this","target","files","URL","createObjectURL","computed","render","__scopeId"],"mappings":"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","file":"js/chunk-43107515.44b0f724.js","sourcesContent":["<template>\r\n  <div class=\"body\">\r\n      <br>\r\n    <h1>Ingresar Producto</h1>\r\n    <hr>\r\n    <br>\r\n    <form @submit.prevent=\"enviar(producto)\" enctype=\"multipart/form-data\">\r\n      <div class=\"row justify-content-center\">\r\n        <img :src=\"hotImage.urlImagen\" v-if=\"hotImage.urlImagen != null\" />\r\n        <img\r\n          src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/d/da/Imagen_no_disponible.svg/1200px-Imagen_no_disponible.svg.png\"\r\n          v-if=\"hotImage.urlImagen == null\"\r\n        />\r\n        <br>\r\n      </div>\r\n      <div class=\"container cuerpo\">\r\n      <br/>\r\n      <br/>\r\n      <br/>\r\n        <div class=\"row\">\r\n          <div class=\"form-group col-md-6\">\r\n            <label>Nombre</label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              placeholder=\"Ingrese el nombre del proveedor\"\r\n              v-model=\"producto.nombre\"\r\n            />\r\n          </div>\r\n          <div class=\"form-group col-md-6\">\r\n            <label>Apellido</label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              placeholder=\"Ingrese el apellido del proveedor\"\r\n              v-model=\"producto.apellido\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"form-group col-md-6\">\r\n            <label>Correo</label>\r\n            <input\r\n              type=\"email\"\r\n              class=\"form-control\"\r\n              placeholder=\"Ingrese el correo del proveedor\"\r\n              v-model=\"producto.correo\"\r\n            />\r\n          </div>\r\n          <div class=\"form-group col-md-6\">\r\n            <label>Imagen</label>\r\n            <br />\r\n            <input\r\n              type=\"file\"\r\n              name=\"img\"\r\n              @change=\"onFileChange\"\r\n              accept=\"image/*\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"form-group col-md-6\">\r\n            <label>Empresa</label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              placeholder=\"Ingrese el nombre de la empresa\"\r\n              v-model=\"producto.empresa\"\r\n            />\r\n          </div>\r\n          <div class=\"form-group col-md-6\">\r\n            <label>Contacto</label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              placeholder=\"Ingrese la informacion de contacto\"\r\n              v-model=\"producto.contacto\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <br />\r\n        <div class=\"row justify-content-between\">\r\n          <div class=\"form-group col-md-2\">\r\n            <router-link to=\"/productos\">\r\n            <button class=\"btn btn-block btn-danger\">Cancelar</button></router-link>\r\n          </div>\r\n          <div class=\"form-group col-md-2 derecha\">\r\n            <button class=\"btn btn-block btn-success\" type=\"submit\">\r\n              Agregar\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport axios from \"axios\";\r\nexport default {\r\n  name: \"NuevoProducto\",\r\n  data() {\r\n    return {\r\n      baseURL: 'https://backend-pieshna.herokuapp.com/api',\r\n      producto: {\r\n        name: \"\",\r\n        marca: \"\",\r\n        descripcion: \"\",\r\n        precioCompra: \"\",\r\n        precioVenta: \"\",\r\n        cantidad: \"\",\r\n        imagen: \"\",\r\n      },\r\n      hotImage: {\r\n        urlImagen: null,\r\n        imagen: null,\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    async enviar(producto) {\r\n      try {\r\n        let dataForm = new FormData();\r\n        dataForm.append(\"img\", this.hotImage.imagen);\r\n        console.log(dataForm);\r\n        axios\r\n          .post(`${this.baseURL}/imagen`, dataForm, {\r\n            headers: {\r\n              \"auth-token\": this.token,\r\n            },\r\n          })\r\n          .then((response) => {\r\n            this.producto.imagen = `/storage/img/${response.data.filename}`;\r\n            this.subirTodo(producto);\r\n          });\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n    async subirTodo(producto) {\r\n      try {\r\n        const res = await axios\r\n          .post(`${this.baseURL}/product/`, producto, {\r\n            headers: {\r\n              \"auth-token\": this.token,\r\n            },\r\n          })\r\n          .then((response) => {\r\n            this.repuestos = response.data;\r\n            console.log(response.data);\r\n            this.$router.push(\"/productos\");\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n        console.log(res);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    onFileChange(event) {\r\n      this.hotImage.imagen = event.target.files[0];\r\n      //this.producto.imagen=`${fileData.name}`;\r\n      this.hotImage.urlImagen = URL.createObjectURL(this.hotImage.imagen);\r\n      console.log(this.hotImage.imagen);\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState([\"token\"]),\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nimg {\r\n  border: solid 1px;\r\n  max-height: 15rem;\r\n  max-width: 15rem;\r\n  border-radius: 1rem;\r\n  position: relative;\r\n  z-index: 2;\r\n}\r\n.cuerpo{\r\n    z-index: 1;\r\n    margin-top: -3rem;\r\n    border: solid 1px;\r\n    border-radius: 1rem;\r\n  box-shadow: 0 0 1rem 0 rgba(0, 0, 0, .2); \r\n  border-radius: 5px;\r\n  background-color: rgba(255, 255, 255, .15);\r\n  \r\n  backdrop-filter: blur(5px);\r\n}\r\n.col-md-6,.col-md-4{\r\n    margin-bottom: 1rem;\r\n}\r\n.col-md-2{\r\n    max-width: 5rem;\r\n    margin-bottom: 1rem;\r\n    padding: 0rem;\r\n    margin-left: 1rem;\r\n}\r\n.derecha{\r\n    margin-right: 2rem;\r\n}\r\n.justify-content-center{\r\n  max-width: 100%;\r\n}\r\n</style>\r\n","import { render } from \"./NuevoProducto.vue?vue&type=template&id=0c630db6&scoped=true\"\nimport script from \"./NuevoProducto.vue?vue&type=script&lang=js\"\nexport * from \"./NuevoProducto.vue?vue&type=script&lang=js\"\n\nimport \"./NuevoProducto.vue?vue&type=style&index=0&id=0c630db6&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-0c630db6\"\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./NuevoProducto.vue?vue&type=style&index=0&id=0c630db6&scoped=true&lang=css\""],"sourceRoot":""}
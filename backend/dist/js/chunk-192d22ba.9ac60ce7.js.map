{"version":3,"sources":["webpack:///./src/views/proveedores/EditarProveedor.vue?bb90","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./src/views/proveedores/EditarProveedor.vue","webpack:///./src/views/proveedores/EditarProveedor.vue?07d6"],"names":["$","fails","isArray","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","undefined","FORCED","target","proto","forced","arg","i","k","length","len","E","this","A","n","arguments","TypeError","class","enviar","producto","enctype","hotImage","urlImagen","src","imagen","type","placeholder","nombre","apellido","correo","name","onFileChange","accept","empresa","contacto","props","data","baseURL","created","recibir","id","methods","a","get","headers","token","then","response","catch","error","console","log","subirTodo","dataForm","FormData","append","post","filename","err","put","repuestos","$router","push","res","event","files","URL","createObjectURL","computed","render","__scopeId"],"mappings":"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","file":"js/chunk-192d22ba.9ac60ce7.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./EditarProveedor.vue?vue&type=style&index=0&id=60fdc7e1&scoped=true&lang=css\"","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","<template>\r\n  <div class=\"body\">\r\n      <br>\r\n    <h1>Actualizar Proveedor</h1>\r\n    <hr>\r\n    <br>\r\n    <form @submit.prevent=\"enviar(producto)\" enctype=\"multipart/form-data\">\r\n      <div class=\"row justify-content-center\">\r\n        <img :src=\"producto.imagen\" v-if=\"hotImage.urlImagen==null\"/>\r\n        <img :src=\"hotImage.urlImagen\" v-if=\"hotImage.urlImagen != null\" />\r\n        <br>\r\n      </div>\r\n      <div class=\"container cuerpo\">\r\n      <br/>\r\n      <br/>\r\n      <br/>\r\n        <div class=\"row\">\r\n          <div class=\"form-group col-md-6\">\r\n            <label>Nombre</label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              placeholder=\"Ingrese el nombre del proveedor\"\r\n              v-model=\"producto.nombre\"\r\n            />\r\n          </div>\r\n          <div class=\"form-group col-md-6\">\r\n            <label>Apellido</label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              placeholder=\"Ingrese el apellido del proveedor\"\r\n              v-model=\"producto.apellido\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"form-group col-md-6\">\r\n            <label>Correo</label>\r\n            <input\r\n              type=\"email\"\r\n              class=\"form-control\"\r\n              placeholder=\"Ingrese el correo del proveedor\"\r\n              v-model=\"producto.correo\"\r\n            />\r\n          </div>\r\n          <div class=\"form-group col-md-6\">\r\n            <label>Imagen</label>\r\n            <br />\r\n            <input\r\n              type=\"file\"\r\n              name=\"img\"\r\n              @change=\"onFileChange\"\r\n              accept=\"image/*\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"form-group col-md-6\">\r\n            <label>Empresa</label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              placeholder=\"Ingrese el nombre de la empresa\"\r\n              v-model=\"producto.empresa\"\r\n            />\r\n          </div>\r\n          <div class=\"form-group col-md-6\">\r\n            <label>Contacto</label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              placeholder=\"Ingrese la informacion de contacto\"\r\n              v-model=\"producto.contacto\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <br />\r\n        <div class=\"row justify-content-between\">\r\n          <div class=\"form-group col-md-2\">\r\n            <button class=\"btn btn-block btn-danger\">Cancelar</button>\r\n          </div>\r\n          <div class=\"form-group col-md-2 derecha\">\r\n            <button class=\"btn btn-block btn-success\" type=\"submit\">\r\n              Agregar\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport axios from \"axios\";\r\nexport default {\r\n  props: [\"id\"],\r\n  name: \"EditarProveedor\",\r\n  data() {\r\n    return {\r\n      baseURL: 'http://localhost:3000/api',\r\n      producto: {\r\n        nombre: \"\",\r\n        apellido: \"\",\r\n        correo: \"\",\r\n        empresa: \"\",\r\n        contacto: \"\",\r\n        imagen: \"\",\r\n      },\r\n      hotImage: {\r\n        urlImagen: null,\r\n        imagen: null,\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    this.recibir(this.id);\r\n  },\r\n  methods: {\r\n    async recibir(id) {\r\n      try {\r\n        //console.log(id);\r\n        await axios\r\n          .get(`${this.baseURL}/proveedor/${id}`, {\r\n            headers: {\r\n              \"auth-token\": this.token,\r\n            },\r\n          })\r\n          .then((response) => {\r\n            this.producto = response.data;\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n\r\n        console.log(\"Proveedor\", this.producto);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    async enviar(producto) {\r\n      try {\r\n        if(this.hotImage.urlImagen===null){\r\n          this.subirTodo(producto)\r\n        }else{\r\n        let dataForm = new FormData();\r\n        dataForm.append(\"img\", this.hotImage.imagen);\r\n        console.log(dataForm);\r\n        axios\r\n          .post(`${this.baseURL}/imagen`, dataForm, {\r\n            headers: {\r\n              \"auth-token\": this.token,\r\n            },\r\n          })\r\n          .then((response) => {\r\n            this.producto.imagen = `/storage/img/${response.data.filename}`;\r\n            this.subirTodo(producto);\r\n          });\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n    async subirTodo(producto) {\r\n      try {\r\n        const res = await axios\r\n          .put(`${this.baseURL}/proveedor/${this.id}`, producto, {\r\n            headers: {\r\n              \"auth-token\": this.token,\r\n            },\r\n          })\r\n          .then((response) => {\r\n            this.repuestos = response.data;\r\n            console.log(response.data);\r\n            this.$router.push(\"/proveedor\");\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n        console.log(res);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    onFileChange(event) {\r\n      this.hotImage.imagen = event.target.files[0];\r\n      //this.producto.imagen=`${fileData.name}`;\r\n      this.hotImage.urlImagen = URL.createObjectURL(this.hotImage.imagen);\r\n      console.log(this.hotImage.imagen);\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState([\"token\"]),\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\nimg {\r\n  border: solid 1px;\r\n  max-height: 15rem;\r\n  max-width: 15rem;\r\n  border-radius: 1rem;\r\n  position: relative;\r\n  z-index: 2;\r\n}\r\n.cuerpo {\r\n  z-index: 1;\r\n  margin-top: -3rem;\r\n  border: solid 1px;\r\n  border-radius: 1rem;\r\n  box-shadow: 0 0 1rem 0 rgba(0, 0, 0, 0.2);\r\n  border-radius: 5px;\r\n  background-color: rgba(255, 255, 255, 0.15);\r\n\r\n  backdrop-filter: blur(5px);\r\n}\r\n.col-md-6,\r\n.col-md-4 {\r\n  margin-bottom: 1rem;\r\n}\r\n.col-md-2 {\r\n  max-width: 5rem;\r\n  margin-bottom: 1rem;\r\n  padding: 0rem;\r\n  margin-left: 1rem;\r\n}\r\n.derecha {\r\n  margin-right: 2rem;\r\n}\r\n</style>\r\n","import { render } from \"./EditarProveedor.vue?vue&type=template&id=60fdc7e1&scoped=true\"\nimport script from \"./EditarProveedor.vue?vue&type=script&lang=js\"\nexport * from \"./EditarProveedor.vue?vue&type=script&lang=js\"\n\nimport \"./EditarProveedor.vue?vue&type=style&index=0&id=60fdc7e1&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-60fdc7e1\"\n\nexport default script"],"sourceRoot":""}
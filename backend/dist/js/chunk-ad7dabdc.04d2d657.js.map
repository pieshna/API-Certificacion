{"version":3,"sources":["webpack:///./src/views/productos/EditarProducto.vue?23c5","webpack:///./src/views/productos/EditarProducto.vue","webpack:///./src/views/productos/EditarProducto.vue?0172","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["class","enviar","producto","enctype","hotImage","urlImagen","src","imagen","type","placeholder","name","marca","descripcion","onFileChange","accept","precioCompra","precioVenta","cantidad","props","data","baseURL","created","this","recibir","id","methods","a","get","headers","token","then","response","catch","error","console","log","subirTodo","dataForm","FormData","append","post","filename","err","put","repuestos","$router","push","res","event","target","files","URL","createObjectURL","computed","render","__scopeId","$","fails","isArray","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","undefined","FORCED","proto","forced","arg","i","k","length","len","E","A","n","arguments","TypeError","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","call","match"],"mappings":"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","file":"js/chunk-ad7dabdc.04d2d657.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./EditarProducto.vue?vue&type=style&index=0&id=9c95bece&scoped=true&lang=css\"","<template>\r\n  <div class=\"body\">\r\n      <br>\r\n    <h1>Actualizar Producto</h1>\r\n    <hr>\r\n    <br>\r\n    <form @submit.prevent=\"enviar(producto)\" enctype=\"multipart/form-data\">\r\n      <div class=\"row justify-content-center\">\r\n        <img :src=\"producto.imagen\" v-if=\"hotImage.urlImagen==null\"/>\r\n        <img :src=\"hotImage.urlImagen\" v-if=\"hotImage.urlImagen != null\" />\r\n        <br>\r\n      </div>\r\n      <div class=\"container cuerpo\">\r\n      <br/>\r\n      <br/>\r\n      <br/>\r\n        <div class=\"row\">\r\n          <div class=\"form-group col-md-6\">\r\n            <label>Nombre</label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              placeholder=\"Ingrese el nombre del producto\"\r\n              v-model=\"producto.name\"\r\n            />\r\n          </div>\r\n          <div class=\"form-group col-md-6\">\r\n            <label>Marca</label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              placeholder=\"Ingrese la marca del producto\"\r\n              v-model=\"producto.marca\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"form-group col-md-6\">\r\n            <label>Descripcion</label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              placeholder=\"Ingrese la descripcion del producto\"\r\n              v-model=\"producto.descripcion\"\r\n            />\r\n          </div>\r\n          <div class=\"form-group col-md-6\">\r\n            <label>Imagen</label>\r\n            <br />\r\n            <input\r\n              type=\"file\"\r\n              name=\"img\"\r\n              @change=\"onFileChange\"\r\n              accept=\"image/*\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"form-group col-md-4\">\r\n            <label>Precio de Compra</label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              placeholder=\"Ingrese el precio de compra\"\r\n              v-model=\"producto.precioCompra\"\r\n            />\r\n          </div>\r\n          <div class=\"form-group col-md-4\">\r\n            <label>Precio de Venta</label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              placeholder=\"Ingrese el precio de venta\"\r\n              v-model=\"producto.precioVenta\"\r\n            />\r\n          </div>\r\n          <div class=\"form-group col-md-4\">\r\n            <label>Cantidad</label>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              placeholder=\"Cantidad de productos a ingresar\"\r\n              v-model=\"producto.cantidad\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <br />\r\n        <div class=\"row justify-content-between\">\r\n          <div class=\"form-group col-md-2\">\r\n            <button class=\"btn btn-block btn-danger\">Cancelar</button>\r\n          </div>\r\n          <div class=\"form-group col-md-2 derecha\">\r\n            <button class=\"btn btn-block btn-success\" type=\"submit\">\r\n              Agregar\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport axios from \"axios\";\r\nexport default {\r\n  props: [\"id\"],\r\n  name: \"EditarProducto\",\r\n  data() {\r\n    return {\r\n      baseURL: 'http://localhost:3000/api',\r\n      producto: {\r\n        name: \"\",\r\n        marca: \"\",\r\n        descripcion: \"\",\r\n        precioCompra: \"\",\r\n        precioVenta: \"\",\r\n        cantidad: \"\",\r\n        imagen: \"\",\r\n      },\r\n      hotImage: {\r\n        urlImagen: null,\r\n        imagen: null,\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    this.recibir(this.id);\r\n  },\r\n  methods: {\r\n    async recibir(id) {\r\n      try {\r\n        //console.log(id);\r\n        await axios\r\n          .get(`${this.baseURL}/product/${id}`, {\r\n            headers: {\r\n              \"auth-token\": this.token,\r\n            },\r\n          })\r\n          .then((response) => {\r\n            this.producto = response.data;\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n\r\n        console.log(\"Producto\", this.producto);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    async enviar(producto) {\r\n      try {\r\n        if(this.hotImage.urlImagen===null){\r\n          console.log(\"no se cargo nueva imagen imagen\");\r\n          this.subirTodo(producto)\r\n        }else{\r\n        let dataForm = new FormData();\r\n        dataForm.append(\"img\", this.hotImage.imagen);\r\n        console.log(dataForm);\r\n        axios\r\n          .post(`${this.baseURL}/imagen`, dataForm, {\r\n            headers: {\r\n              \"auth-token\": this.token,\r\n            },\r\n          })\r\n          .then((response) => {\r\n            this.producto.imagen = `/storage/img/${response.data.filename}`;\r\n            this.subirTodo(producto);\r\n          });\r\n        }\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    },\r\n    async subirTodo(producto) {\r\n      try {\r\n        const res = await axios\r\n          .put(`${this.baseURL}/product/${this.id}`, producto, {\r\n            headers: {\r\n              \"auth-token\": this.token,\r\n            },\r\n          })\r\n          .then((response) => {\r\n            this.repuestos = response.data;\r\n            console.log(response.data);\r\n            this.$router.push(\"/productos\");\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n        console.log(res);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    onFileChange(event) {\r\n      this.hotImage.imagen = event.target.files[0];\r\n      //this.producto.imagen=`${fileData.name}`;\r\n      this.hotImage.urlImagen = URL.createObjectURL(this.hotImage.imagen);\r\n      console.log(this.hotImage.imagen);\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState([\"token\"]),\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\nimg {\r\n  border: solid 1px;\r\n  max-height: 15rem;\r\n  max-width: 15rem;\r\n  border-radius: 1rem;\r\n  position: relative;\r\n  z-index: 2;\r\n}\r\n.cuerpo {\r\n  z-index: 1;\r\n  margin-top: -3rem;\r\n  border: solid 1px;\r\n  border-radius: 1rem;\r\n  box-shadow: 0 0 1rem 0 rgba(0, 0, 0, 0.2);\r\n  border-radius: 5px;\r\n  background-color: rgba(255, 255, 255, 0.15);\r\n\r\n  backdrop-filter: blur(5px);\r\n}\r\n.col-md-6,\r\n.col-md-4 {\r\n  margin-bottom: 1rem;\r\n}\r\n.col-md-2 {\r\n  max-width: 5rem;\r\n  margin-bottom: 1rem;\r\n  padding: 0rem;\r\n  margin-left: 1rem;\r\n}\r\n.derecha {\r\n  margin-right: 2rem;\r\n}\r\n</style>\r\n","import { render } from \"./EditarProducto.vue?vue&type=template&id=9c95bece&scoped=true\"\nimport script from \"./EditarProducto.vue?vue&type=script&lang=js\"\nexport * from \"./EditarProducto.vue?vue&type=script&lang=js\"\n\nimport \"./EditarProducto.vue?vue&type=style&index=0&id=9c95bece&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-9c95bece\"\n\nexport default script","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}